'From Squeak4.5 of 19 February 2014 [latest update: #13680] on 19 March 2015 at 2:53:51 am'!RectangleMorph subclass: #Row	instanceVariableNames: 'answers callback clickedPeg player'	classVariableNames: ''	poolDictionaries: ''	category: 'Mastermind'!!Row methodsFor: 'initialization' stamp: 'OJMS 3/15/2015 03:27'!setAnswers: ans	"Save a referance to the AnswerPegs object"	answers := ans.! !!Row methodsFor: 'initialization' stamp: 'OJMS 3/15/2015 03:27'!setPlayer: ply	"Save a referance to the PlayerPegs object"	player := ply.! !!Row methodsFor: 'accessing' stamp: 'OJMS 3/15/2015 03:28'!getAnswers	"Get a reference to the AnswerPegs object"	^answers.! !!Row methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 02:06'!getClickedPeg	"Get the index of the PlayerPeg which was clicked"	^clickedPeg.! !!Row methodsFor: 'accessing' stamp: 'OJMS 3/15/2015 03:28'!getPlayer	"Get a reference to the PlayerPegs object"	^player.! !!Row methodsFor: 'event handling' stamp: 'OJMS 3/19/2015 00:35'!action: cbk	"Set the BlockContext Row will call when it is clicked"	callback := cbk.! !!Row methodsFor: 'event handling' stamp: 'OJMS 3/19/2015 02:51'!pegClicked: peg	"Get the index of the clicked peg"	clickedPeg := peg getClickedPeg.	owner setClickedPeg: (5 - clickedPeg).	callback value.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Row class	instanceVariableNames: ''!!Row class methodsFor: 'initialize-release' stamp: 'OJMS 3/18/2015 20:12'!new	"Create a row, with the answer pegs as visible"	^self new: false.! !!Row class methodsFor: 'initialize-release' stamp: 'OJMS 3/19/2015 01:45'!new: isAnswer	| answer instance player |	"Creates a row of AnswerPegs and PlayerPegs objects"	instance := super new.	instance borderWidth: 0.	instance color: Color transparent.	instance hResizing: #shrinkWrap.	instance layoutPolicy: TableLayout new.	"instance lock."	instance listDirection: #leftToRight.	instance vResizing: #shrinkWrap.	"Build the objects"	answer := AnswerPegs new.	player := PlayerPegs new.	player action: [		instance pegClicked: player.	].	( isAnswer )		ifTrue: [ answer visible: false. ].	"Add the objects to the world"	instance setAnswers: answer.	instance setPlayer: player.	instance addMorph: player.	instance addMorph: answer.		^instance.! !
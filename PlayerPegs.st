'From Squeak4.5 of 19 February 2014 [latest update: #13680] on 19 March 2015 at 2:53:50 am'!PegCollection subclass: #PlayerPegs	instanceVariableNames: 'callback clickedPeg'	classVariableNames: ''	poolDictionaries: ''	category: 'Mastermind'!!PlayerPegs methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 00:22'!getClickedPeg	"Get the index of the peg which was clicked"	^clickedPeg.! !!PlayerPegs methodsFor: 'accessing' stamp: 'OJMS 3/18/2015 18:47'!getPeg: peg	"Get the marking mode of a peg"	( peg between: 1 and: 6 )		ifTrue: [ | color item |			color := PlayerColors new.			item := pegs at: peg.						^color getColorIndex: ( item color ).		].! !!PlayerPegs methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 02:48'!setPeg: peg mode: mode	"Mark a peg with a color"	( peg between: 1 and: 4 )		ifTrue: [			( mode between: 1 and: 7 )				ifTrue: [ | color item |					color := PlayerColors new.					item := pegs at: peg.								item setColor: mode.				].		].! !!PlayerPegs methodsFor: 'event handling' stamp: 'OJMS 3/18/2015 23:52'!action: cbk	"Set the BlockContext PlayerPegs will call when it is clicked"	callback := cbk.! !!PlayerPegs methodsFor: 'event handling' stamp: 'OJMS 3/19/2015 02:35'!pegClicked: peg	"Get the index of the clicked peg"	clickedPeg := peg getPegNumber.	callback value.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlayerPegs class	instanceVariableNames: ''!!PlayerPegs class methodsFor: 'initialize-release' stamp: 'OJMS 3/19/2015 01:07'!new	| instance |	"Create a row of BigPeg objects for the user to interact with"	instance := super new.	instance cellInset: 5.	instance layoutInset: 5.	instance listDirection: #leftToRight.		1 to: 4 do: [ :i | | peg |		peg := BigPeg new.		peg setPegNumber: i.		peg action: [			instance pegClicked: peg.		].				instance addPeg: peg.		instance addMorph: peg.	].		^instance.! !
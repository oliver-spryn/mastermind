'From Squeak4.5 of 19 February 2014 [latest update: #13680] on 19 March 2015 at 4:16:15 am'!RectangleMorph subclass: #Board	instanceVariableNames: 'arrAnswer answer callback clickedPeg created currentRow rows total'	classVariableNames: ''	poolDictionaries: ''	category: 'Mastermind'!!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 03:36'!answers	"Get the answers sdf;hsad;fjklhasdvjnsdfpjkbv"	^arrAnswer.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 03:37'!answers: a	"George Lincoln"	arrAnswer := a.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/16/2015 16:51'!getAnswer: row peg: peg	| coll r |	"Get the mode of a particular SmallPeg within an AnswerPegs object in a particular row"	r := rows at: row.	coll := r getAnswers.	coll getPeg: peg.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 00:52'!getClickedPeg	"Get the index of the PlayerPeg which was clicked"	^clickedPeg.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/16/2015 16:52'!getPlayer: row peg: peg	| coll r |	"Get the mode of a particular BigPeg within an PlayerPegs object in a particular row"	r := rows at: row.	coll := r getPlayer.	coll getPeg: peg.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 04:03'!getRows	"Get the number of rows on the board"	^total.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 03:08'!row	"Get the rowz bang bang swack swacklings 3:08 AM"	^currentRow.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 03:08'!row: r	"Set the rowinz and things dfgasdfjklhdfjghasd;uigdfhsagvdfjkgnxcvsdfjkl"	currentRow := r.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/15/2015 03:53'!setAnswer: row peg: peg mode: mode	| coll r |	"Set the mode of a particular SmallPeg within an AnswerPegs object in a particular row"	r := rows at: row.	coll := r getAnswers.	coll setPeg: peg mode: mode.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/18/2015 20:16'!setAnswerRow: row	"Save a reference to the answer row"	answer := row.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 02:37'!setClickedPeg: peg	"Set the index of the PlayerPeg which was clicked"	clickedPeg := peg.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/15/2015 03:57'!setPlayer: row peg: peg mode: mode	| coll r |	"Set the mode of a particular BigPeg within an PlayerPegs object in a particular row"	r := rows at: row.	coll := r getPlayer.	coll setPeg: peg mode: mode.! !!Board methodsFor: 'accessing' stamp: 'OJMS 3/19/2015 04:13'!theBigReveal	| coll |	"Show all hidden things!!"	coll := answer getPlayer.	coll setPeg: 1 mode: ( arrAnswer at: 1 ).	coll setPeg: 2 mode: ( arrAnswer at: 2 ).	coll setPeg: 3 mode: ( arrAnswer at: 3 ).	coll setPeg: 4 mode: ( arrAnswer at: 4 ).! !!Board methodsFor: 'initialization' stamp: 'OJMS 3/15/2015 03:55'!addRow: r	"Add a row to the array"	created := created + 1.	rows at: created put: r.! !!Board methodsFor: 'initialization' stamp: 'OJMS 3/15/2015 03:33'!initCreated	"Set the total number of created rows to 0"	created := 0.! !!Board methodsFor: 'initialization' stamp: 'OJMS 3/15/2015 03:35'!initRows	"Initialize the rows array"	rows := Array new: total.! !!Board methodsFor: 'initialization' stamp: 'OJMS 3/15/2015 03:30'!setRows: r	"Establish the number of rows on the board"	total := r.! !!Board methodsFor: 'event handling' stamp: 'OJMS 3/19/2015 02:07'!action: cbk	"Set the BlockContext Row will call when it is clicked"	callback := cbk.! !!Board methodsFor: 'event handling' stamp: 'OJMS 3/19/2015 02:38'!pegClicked: peg	"Get the index of the clicked peg"	callback value.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Board class	instanceVariableNames: ''!!Board class methodsFor: 'instance creation' stamp: 'OJMS 3/19/2015 03:06'!new: rows	| bkg instance row spacer |	"Initialize the memory of the board to hold all of its objects"	instance := super new.	instance initCreated.	instance setRows: rows.	instance initRows.	instance row: 1.	"Create the super background"	bkg := RectangleMorph new.	"Creates a Mastermind board with N rows"	instance color: Color brown.	instance hResizing: #shrinkWrap.	instance layoutPolicy: TableLayout new.	instance listDirection: #topToBottom.	instance setRows: rows.	instance vResizing: #shrinkWrap.	"Create each row"	1 to: rows do: [ :n |		row := Row new.		row action: [			instance pegClicked: ( row getClickedPeg ).		].				instance addMorph: row.		instance addRow: row.	].	"Create visual space between the player and answer rows"	spacer := (RectangleMorph new) extent: 15@15.	spacer borderWidth: 0. "Hide dat ying n' yang, yo"	spacer color: Color transparent.	instance addMorph: spacer.	"Create the answer row" 	row := Row new: true.	instance setAnswerRow: row.	instance addMorph: row.	^instance! !